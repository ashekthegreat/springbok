function parseQuery(e){if("string"!=typeof e||0==e.length)return{};e&&e.indexOf("?")>-1&&(e=e.split("?")[1]),e=e||document.location.search;for(var t,r,i,a=e.split("&"),n=a.length,o={},l=0;n>l;l++)t=a[l].split("="),r=decodeURIComponent(t[0]),0!=r.length&&(i=decodeURIComponent(t[1].replace(/\+/g,"%20")),"undefined"==typeof o[r]?o[r]=i:o[r]instanceof Array?o[r].push(i):o[r]=[o[r],i]);return o}var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints>0;supportsTouch=!0;var target=window.location.hash,target=target.replace("#","");location.hash&&setTimeout(function(){window.scrollTo(0,0)},1),function(){$(function(){function e(){supportsTouch&&$(".click-to-call").each(function(){var e=$("<a></a>"),t=$(this).text(),r=t.replace(/\s/g,"");e.attr("href","tel:"+r).text(t),$(this).empty().append(e)})}$(".menu-button").sideNav({menuWidth:240,edge:"right",closeOnClick:!1}),$(".dropdown-main-nav").dropdown({hover:!0,constrain_width:!1,belowOrigin:!0}),$("select").material_select();var t=$(".modal-trigger");t.leanModal(),t.click(function(e){e.preventDefault()}),e(),$(".scrollspy").scrollSpy({scrollOffset:112}),$("#home-estimator").length||$('a[href^="#home-"]').each(function(){$(this).attr("href","index.php"+$(this).attr("href"))})}),$(window).load(function(){target&&$('a[href$="#'+target+'"]').click()}),$(function(){function e(){var e=$(".home-recent-sale img").height();e?$(".home-recent-sale .valign-wrapper").height(e):$(".home-recent-sale .valign-wrapper").css("height","auto")}function t(){var e=$(".sales-banner form").height();e&&$(window).width()>600?$(".sales-banner .valign-wrapper").height(e):$(".sales-banner .valign-wrapper").css("height","auto")}e(),t(),$(window).resize(function(){e(),t()})}),$(function(e){e(".success-slider").unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-arrow-left"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-arrow-right"></i></a>'},nav:!1,infinite:!0}),e(".review-slider").unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-left-arrow-round"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-right-arrow-round"></i></a>'},nav:!1,infinite:!0}),e(".lp3").length&&(e(".testimonial-slider").unslider({arrows:!1,nav:!1,infinite:!0,autoplay:!0,delay:2500}),e(".sub-nav").pushpin({top:64}))}),$(function(){var e=$("#modal-video");$(".home-video .card, .big-play .play, .reviews-video .card").click(function(){var t=$(this).data("id");e.find(".modal-content").empty().append('<div class="video-container"><iframe class="responsive-img" width="560" height="315" src="https://www.youtube.com/embed/'+t+'?showinfo=0&rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe></div>'),e.openModal({complete:function(){e.find(".modal-content").empty()}})})}),$(function(){var e=$("#login-modal");$(".not-logged-in").click(function(){var t="signin";$(this).hasClass("go-register")&&(t="register");var r=$(this).data("action");return e.openModal({ready:function(){e.find(".loginAction").val(r),e.find("ul.tabs").tabs("select_tab",t)}}),!1})}),$(function(){var e=$("#property-book");$(".trigger-book-modal").click(function(){return e.find(".cmd-submit").text($(this).text()),$(this).closest(".properties-list").length?(e.find('input[name="_page_url"]').val($(this).closest(".property-card").find(".property-title").attr("href")),e.find('input[name="_source"]').val($(this).closest(".property-card").find(".property-title").attr("href")),e.find(".book-title").text($(this).closest(".property-card").find(".property-address").text())):(e.find('input[name="_source"]').val(window.location.href),e.find('input[name="_page_url"]').val(window.location.href)),e.find('input[name="_prop_id"]').val($(this).data("prop")),e.openModal(),!1})}),$(function(){function e(){f.height(h.height()),$(window).width()>600?h.data("pushpin-id")||h.pushpin({top:f.offset().top}):h.pushpin("remove")}function t(){if($(window).width()>1200){var e=(u.length?u.offset().top:0)-(h.length?h.height():0)-40,t=u.length?u.height():0,r=$("body > footer"),i=r.first().length?r.first().offset().top:0,a=i-t-(h.length?h.height():0)-95-110;u.css({width:u.width()+"px"}),u.data("pushpin-id")||u.pushpin({top:e,bottom:a})}else u.css({width:""}),u.pushpin("remove")}function r(e,t){var r=$("#page");r.empty();for(var i=Math.ceil(e/t),a=1;i>=a;a++)r.append('<option value="'+a+'">'+a+"</option>");var n=$("#current-page").val();r.val(n).material_select(),$(".total-page-count").text(i.toLocaleString()),$(".pagination-holder .prev").toggleClass("disabled",1==n),$(".pagination-holder .next").toggleClass("disabled",n==i)}function i(e){var t=$("#page"),r=+t.val()+ +e,i=$(".total-page-count").text();$(".pagination-holder .prev").toggleClass("disabled",1==r),$(".pagination-holder .next").toggleClass("disabled",r==i),r>=1&&i>=r&&(t.val(r).material_select(),$("#current-page").val(r),n(!1))}function a(){var e="Properties For Sale";e+=$("#search").val()?" in "+$("#search").val():"",$("#field-dropdown-price-min").val()&&$("#field-dropdown-price-max").val()?e+=", "+$("#field-dropdown-price-min option:selected").text()+" - "+$("#field-dropdown-price-max option:selected").text():$("#field-dropdown-price-min").val()?e+=", at least "+$("#field-dropdown-price-min option:selected").text():$("#field-dropdown-price-max").val()&&(e+=", up to "+$("#field-dropdown-price-max option:selected").text()),$("#field-dropdown-bed-min").val()&&$("#field-dropdown-bed-max").val()?e+=", "+$("#field-dropdown-bed-min").val()+" - "+$("#field-dropdown-bed-max option:selected").text():$("#field-dropdown-bed-min").val()?e+=", at least "+$("#field-dropdown-bed-min option:selected").text():$("#field-dropdown-bed-max").val()&&(e+=", up to "+$("#field-dropdown-bed-max option:selected").text()),$("#added-to-site").val()&&(e+=", sorted by "+$("#added-to-site option:selected").text()),$(".search-criteria").text(e)}function n(e,t){$(".search-alert").hide(),e&&($("#current-page").val(1),a());var r=$(".property-search-bar form").serializeArray(),i="?"+$.param(r);t?History.replaceState(null,null,i):History.pushState(null,null,i)}function o(e){var t=e.children("img");t.attr("style","").removeClass("ww wh");var r=e.height(),i=e.width(),a=t.height(),n=t.width();a>n?t.addClass("ww").removeClass("wh"):t.addClass("wh").removeClass("ww");var o=t.height(),l=t.width(),s=(o-r)/2,p=(l-i)/2;l>o?t.css({marginLeft:"-"+p+"px",marginTop:0}):t.css({marginTop:"-"+s+"px",marginLeft:0})}function l(){$(".card-image-container").each(function(){o($(this))})}function s(e){a();var t=$(".property-search-bar form").serializeArray(),i=$(".property-card");i.addClass("busy"),$.post("json-properties.php",t,function(t){$(".total").text(t.total.toLocaleString()),$.each(i,function(e,r){var i=$(r);if(e<t.items.length){var a=t.items[e];i.find(".corner").remove(),i.find(".property-title").attr("href",a.url).html(a.title),i.find(".camera, .prop_img, .property-title").attr("href",a.url),i.find(".property-price").html(a.price),i.find(".property-address").html(a.address),i.find(".property-description").html(a.description),i.find(".property-image").attr("src",a.image_url),i.find(".property-image-count").html(a.image_count),i.find(".prop-book").attr("data-prop",a.id),"string"==typeof a.special_tag?i.find(".card-image-container").append('<span class="corner '+a.special_tag+'"></span>'):$.each(a.special_tag,function(e,t){i.find(".card-image-container").append('<span class="corner '+t+'"></span>')}),i.show().removeClass("busy")}else i.hide()}),(1==$("#current-page").val()||e)&&r(t.total,$("#limit").val()),t.special_message?($(".radius").show(),$(".special-message").empty().append(t.special_message).show()):$(".special-message").empty().hide()})}function p(e){e.addClass("active"),e.hasClass("field-property-type")?($(".property-search-extra .filter").hide(),$(".property-search-extra .filter-property-type").show()):e.hasClass("field-filters")&&($(".property-search-extra .filter").show(),$(".property-search-bar .field-price").is(":visible")&&$(".property-search-extra .filter-price").hide(),$(".property-search-bar .field-beds").is(":visible")&&$(".property-search-extra .filter-bed").hide(),$(".property-search-bar .field-property-type").is(":visible")&&$(".property-search-extra .filter-property-type").hide()),$(".property-search-extra").slideDown("fast")}function c(){$(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast")}function d(e){var t=parseQuery(e);t["property-stc"]=t.limit?t["property-stc"]:1,t["current-page"]=t["current-page"]||1,t.limit=t.limit||10,m.val(t.search),$(".alert-box").toggle(!!t.search),$("#radius").val(t.radius).material_select(),$("#field-dropdown-price-min").val(t["filter-price-min"]).material_select(),$("#filter-dropdown-price-min").val(t["filter-price-min"]).material_select(),$("#field-dropdown-price-max").val(t["filter-price-max"]).material_select(),$("#filter-dropdown-price-max").val(t["filter-price-max"]).material_select(),$("#field-dropdown-bed-min").val(t["filter-bed-min"]).material_select(),$("#filter-dropdown-bed-min").val(t["filter-bed-min"]).material_select(),$("#field-dropdown-bed-max").val(t["filter-bed-max"]).material_select(),$("#filter-dropdown-bed-max").val(t["filter-bed-max"]).material_select(),$("#added-to-site").val(t["added-to-site"]).material_select(),$("#property-stc").prop("checked",!!t["property-stc"]),$(".filter-property-type input").each(function(){"string"==typeof t["property-type"]?$(this).prop("checked",!(t["property-type"]!=$(this).val())):$(this).prop("checked",!!(t["property-type"]&&t["property-type"].indexOf($(this).val())>-1))});var r=$(".filter-property-type input:checked").length;$(".property-type-count").empty(),r&&$(".property-type-count").append("("+r+")");var i=t["current-page"]||1;$("#page").val(i).material_select(),$("#current-page").val(i)}var f=$(".properties-search"),h=f.find(".property-search-bar"),u=$(".property-list-adv"),m=$("#search");f.length&&($(".navbar-fixed nav").css("position","relative"),$(window).resize(function(){e(),t(),l()}),$(".card-image-container img").load(function(){o($(this).closest(".card-image-container"))}),setTimeout(function(){e(),t()},100),$(".property-card .card-content p").dotdotdot({}),m.typeahead({minLength:1,maxItem:10,order:"asc",offset:!0,dynamic:!0,source:{area:{ajax:function(e){return{type:"GET",url:"json-locations.php",data:{q:e}}}}},callback:{onHideLayout:function(e,t){n(!0)},onCancel:function(e,t){n(!0)}}}),m.keydown(function(e){$(".search-alert").show(),13==e.which&&n(!0)}),$(".do-search").click(function(){n(!0)}),$(".cancel-search").click(function(){d(History.getState().cleanUrl),n()}),$(".property-search-extra").click(function(e){e.stopPropagation()}),$(window).click(function(e){$(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast")}),$(".field-property-type, .field-filters").click(function(e){e.stopPropagation();var t=$(this);t.hasClass("active")?c():$(".property-search-bar .field.active").length?($(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast",function(){p(t)})):p(t)}),$("#radius").change(function(){n(!0)}),$("#field-dropdown-price-min").change(function(){$("#filter-dropdown-price-min").val($(this).val()).material_select(),n(!0)}),$("#field-dropdown-price-max").change(function(){$("#filter-dropdown-price-max").val($(this).val()).material_select(),n(!0)}),$("#filter-dropdown-price-min").change(function(){$("#field-dropdown-price-min").val($(this).val()).material_select(),n(!0)}),$("#filter-dropdown-price-max").change(function(){$("#field-dropdown-price-max").val($(this).val()).material_select(),n(!0)}),$("#field-dropdown-bed-min").change(function(){$("#filter-dropdown-bed-min").val($(this).val()).material_select(),n(!0)}),$("#field-dropdown-bed-max").change(function(){$("#filter-dropdown-bed-max").val($(this).val()).material_select(),n(!0)}),$("#filter-dropdown-bed-min").change(function(){$("#field-dropdown-bed-min").val($(this).val()).material_select(),n(!0)}),$("#filter-dropdown-bed-max").change(function(){$("#field-dropdown-bed-max").val($(this).val()).material_select(),n(!0)}),$(".filter-property-type input").click(function(){var e=$(".filter-property-type input:checked").length;$(".property-type-count").empty(),e&&$(".property-type-count").append("("+e+")"),n(!0)}),$("#added-to-site").change(function(){n(!0)}),$("#property-stc").click(function(){n(!0)}),$(".filter-action-done").click(function(){c()}),$("#page").change(function(){var e=$("#page").val();$("#current-page").val(e),$(".pagination-holder .prev").toggleClass("disabled",1==e),$(".pagination-holder .next").toggleClass("disabled",e==+$(".total-page-count").text()),n(!1)}),$(".pagination-holder .prev").click(function(){$(this).hasClass("disabled")||i(-1)}),$(".pagination-holder .next").click(function(){$(this).hasClass("disabled")||i(1)}),History.Adapter.bind(window,"statechange",function(){d(History.getState().cleanUrl),s()}),d(document.location.search),s(!0))}),$(function(){function e(){var e=2/3,r=t.width();t.height(r*e),t.find("li").height(r*e),$(".unslider-nav li").height($(".unslider-nav li:first").width()*e)}var t=$("#property-carousel");if(t.length){e(),$(window).on("resize",function(){e()});var r=new Image;r.onload=function(){$("img[xsrc]").each(function(){$(this).attr("src",$(this).attr("xsrc")),$(this).removeAttr("xsrc")}),setTimeout(function(){e()},100)},r.src=t.find("img:first").attr("src"),t.on("unslider.ready",function(){$(".unslider-nav img").load(function(){e()})});var i=t.unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-arrow-left-rounded"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-arrow-right-rounded"></i></a>'},nav:function(e,t){return $(this).find("img").get(0).outerHTML},autoplay:!0,infinite:!0});setTimeout(function(){i.unslider("stop"),$(".unslider-arrow").css("bottom",$(".unslider-nav").height()-20+"px")},1e3),i.on("unslider.change",function(){a||i.unslider("stop")});var a=!1;$(".slideshow-control").click(function(){a?(i.unslider("stop"),$(this).text("Start Slideshow")):(i.unslider("start"),$(this).text("Stop Slideshow")),a=!a}),$("#mapid").click(function(){$("ul.tabs").tabs("select_tab","property-tab-map")})}}),$(function(){function e(e){return t*e/100}if($("#home-recent-sale").length){var t=$(window).height(),r=[{selector:".home-fast .card-panel",offset:e(10),callback:function(e){$(e).addClass("z-depth-2").removeClass("z-depth-0")}},{selector:".home-why",offset:e(50),callback:function(e){Materialize.fadeInImage($(e).find(".point"))}},{selector:".home-estimator",offset:e(80),callback:function(e){Materialize.fadeInImage($(e).find(".sprite-9000"))}}];Materialize.scrollFire(r)}})}();