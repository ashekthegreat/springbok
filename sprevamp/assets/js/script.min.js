function parseQuery(a){if("string"!=typeof a||0==a.length)return{};a&&a.indexOf("?")>-1&&(a=a.split("?")[1]),a=a||document.location.search;for(var d,f,g,b=a.split("&"),c=b.length,e={},h=0;h<c;h++)d=b[h].split("="),f=decodeURIComponent(d[0]),0!=f.length&&(g=decodeURIComponent(d[1].replace(/\+/g,"%20")),"undefined"==typeof e[f]?e[f]=g:e[f]instanceof Array?e[f].push(g):e[f]=[e[f],g]);return e}var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints>0;supportsTouch=!0;var target=window.location.hash,target=target.replace("#","");location.hash&&setTimeout(function(){window.scrollTo(0,0)},1),function(){$(function(){function b(){supportsTouch&&$(".click-to-call").each(function(){var a=$("<a></a>"),b=$(this).text(),c=b.replace(/\s/g,"");a.attr("href","tel:"+c).text(b),$(this).empty().append(a)})}$(".menu-button").sideNav({menuWidth:240,edge:"right",closeOnClick:!1}),$(".dropdown-main-nav").dropdown({hover:!0,constrain_width:!1,belowOrigin:!0}),$("select").material_select();var a=$(".modal-trigger");a.leanModal(),a.click(function(a){a.preventDefault()}),b(),$(".scrollspy").scrollSpy({scrollOffset:112}),$("#home-estimator").length||$('a[href^="#home-"]').each(function(){$(this).attr("href","index.php"+$(this).attr("href"))})}),$(window).load(function(){target&&$('a[href^="#'+target+'"]').click()}),$(function(){function a(){var a=$(".home-recent-sale img").height();a?$(".home-recent-sale .valign-wrapper").height(a):$(".home-recent-sale .valign-wrapper").css("height","auto")}function b(){var a=$(".sales-banner form").height();a&&$(window).width()>600?$(".sales-banner .valign-wrapper").height(a):$(".sales-banner .valign-wrapper").css("height","auto")}a(),b(),$(window).resize(function(){a(),b()})}),$(function(a){a(".success-slider").unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-arrow-left"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-arrow-right"></i></a>'},nav:!1,infinite:!0}),a(".review-slider").unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-left-arrow-round"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-right-arrow-round"></i></a>'},nav:!1,infinite:!0}),a(".lp3").length&&(a(".testimonial-slider").unslider({arrows:!1,nav:!1,infinite:!0,autoplay:!0,delay:2500}),a(".sub-nav").pushpin({top:64}))}),$(function(){var a=$("#modal-video");$(".home-video .card, .big-play .play, .reviews-video .card").click(function(){var b=$(this).data("id");a.find(".modal-content").empty().append('<div class="video-container"><iframe class="responsive-img" width="560" height="315" src="https://www.youtube.com/embed/'+b+'?showinfo=0&rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe></div>'),a.openModal({complete:function(){a.find(".modal-content").empty()}})})}),$(function(){var a=$("#login-modal");$(".not-logged-in").click(function(){var b="signin";return $(this).hasClass("go-register")&&(b="register"),a.openModal({ready:function(){a.find("ul.tabs").tabs("select_tab",b)}}),!1})}),$(function(){var a=$("#property-book");$(".trigger-book-modal").click(function(){return a.find(".cmd-submit").text($(this).text()),a.find('input[name="_source"]').val(window.location.href),$(this).closest(".properties-list").length?a.find('input[name="_page_url"]').val($(this).closest(".property-card").find(".property-title").attr("href")):a.find('input[name="_page_url"]').val(window.location.href),a.find('input[name="_prop_id"]').val($(this).data("prop")),a.openModal(),!1})}),$(function(){function e(){a.height(b.height()),$(window).width()>600?b.data("pushpin-id")||b.pushpin({top:a.offset().top}):b.pushpin("remove")}function f(){if($(window).width()>1200){var a=(c.length?c.offset().top:0)-(b.length?b.height():0)-40,d=c.length?c.height():0,e=$("body > footer"),f=e.first().length?e.first().offset().top:0,g=f-d-(b.length?b.height():0)-95-110;c.css({width:c.width()+"px"}),c.data("pushpin-id")||c.pushpin({top:a,bottom:g})}else c.css({width:""}),c.pushpin("remove")}function g(a,b){var c=$("#page");c.empty();for(var d=Math.ceil(a/b),e=1;e<=d;e++)c.append('<option value="'+e+'">'+e+"</option>");var f=$("#current-page").val();c.val(f).material_select(),$(".total-page-count").text(d.toLocaleString()),$(".pagination-holder .prev").toggleClass("disabled",1==f),$(".pagination-holder .next").toggleClass("disabled",f==d)}function h(a){var b=$("#page"),c=+b.val()+ +a,d=$(".total-page-count").text();$(".pagination-holder .prev").toggleClass("disabled",1==c),$(".pagination-holder .next").toggleClass("disabled",c==d),c>=1&&c<=d&&(b.val(c).material_select(),$("#current-page").val(c),j(!1))}function i(){var a="Properties For Sale in ";a+=$("#search").val()?$("#search").val():"all area",$("#field-dropdown-price-min").val()&&$("#field-dropdown-price-max").val()?a+=", "+$("#field-dropdown-price-min option:selected").text()+" - "+$("#field-dropdown-price-max option:selected").text():$("#field-dropdown-price-min").val()?a+=", at least "+$("#field-dropdown-price-min option:selected").text():$("#field-dropdown-price-max").val()&&(a+=", up to "+$("#field-dropdown-price-max option:selected").text()),$("#field-dropdown-bed-min").val()&&$("#field-dropdown-bed-max").val()?a+=", "+$("#field-dropdown-bed-min").val()+" - "+$("#field-dropdown-bed-max option:selected").text():$("#field-dropdown-bed-min").val()?a+=", at least "+$("#field-dropdown-bed-min option:selected").text():$("#field-dropdown-bed-max").val()&&(a+=", up to "+$("#field-dropdown-bed-max option:selected").text()),$("#added-to-site").val()&&(a+=", added in the "+$("#added-to-site option:selected").text()),$(".search-criteria").text(a)}function j(a,b){a&&($("#current-page").val(1),i());var c=$(".property-search-bar form").serializeArray(),d="?"+$.param(c);b?History.replaceState(null,null,d):History.pushState(null,null,d)}function k(a){i();var b=$(".property-search-bar form").serializeArray(),c=$(".property-card");c.addClass("busy"),$.post("json-properties.php",b,function(b){$(".total").text(b.total.toLocaleString()),$.each(c,function(a,c){var d=$(c);if(a<b.items.length){var e=b.items[a];d.find(".property-title").attr("href",e.url).html(e.title),d.find(".property-price").html("Offers in excess of <strong>&pound;"+(+e.price).toLocaleString()+"</strong>"),d.find(".property-address").html(e.address),d.find(".property-description").html(e.description),d.find(".property-image").attr("src",e.image_url),d.find(".property-image-count").html(e.image_count),d.show().removeClass("busy")}else d.hide()}),(1==$("#current-page").val()||a)&&g(b.total,$("#limit").val()),b.special_message?($(".radius").show(),$(".special-message").empty().append(b.special_message).show()):$(".special-message").empty().hide()})}function l(a){a.addClass("active"),a.hasClass("field-property-type")?($(".property-search-extra .filter").hide(),$(".property-search-extra .filter-property-type").show()):a.hasClass("field-filters")&&($(".property-search-extra .filter").show(),$(".property-search-bar .field-price").is(":visible")&&$(".property-search-extra .filter-price").hide(),$(".property-search-bar .field-beds").is(":visible")&&$(".property-search-extra .filter-bed").hide(),$(".property-search-bar .field-property-type").is(":visible")&&$(".property-search-extra .filter-property-type").hide()),$(".property-search-extra").slideDown("fast")}function m(){$(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast")}function n(a){var b=parseQuery(a);b["current-page"]=b["current-page"]||1,b.limit=b.limit||10,d.val(b.search),$("#radius").val(b.radius).material_select(),$("#field-dropdown-price-min").val(b["filter-price-min"]).material_select(),$("#filter-dropdown-price-min").val(b["filter-price-min"]).material_select(),$("#field-dropdown-price-max").val(b["filter-price-max"]).material_select(),$("#filter-dropdown-price-max").val(b["filter-price-max"]).material_select(),$("#field-dropdown-bed-min").val(b["filter-bed-min"]).material_select(),$("#filter-dropdown-bed-min").val(b["filter-bed-min"]).material_select(),$("#field-dropdown-bed-max").val(b["filter-bed-max"]).material_select(),$("#filter-dropdown-bed-max").val(b["filter-bed-max"]).material_select(),$("#added-to-site").val(b["added-to-site"]).material_select(),$("#property-stc").prop("checked",!!b["property-stc"]),$(".filter-property-type input").each(function(){"string"==typeof b["property-type"]?$(this).prop("checked",!(b["property-type"]!=$(this).val())):$(this).prop("checked",!!(b["property-type"]&&b["property-type"].indexOf($(this).val())>-1))});var c=$(".filter-property-type input:checked").length;$(".property-type-count").empty(),c&&$(".property-type-count").append("("+c+")");var e=b["current-page"]||1;$("#page").val(e).material_select(),$("#current-page").val(e)}var a=$(".properties-search"),b=a.find(".property-search-bar"),c=$(".property-list-adv"),d=$("#search");a.length&&($(".navbar-fixed nav").css("position","relative"),$(window).resize(function(){e(),f()}),setTimeout(function(){e(),f()},100),$(".property-card .card-content p").dotdotdot({}),d.typeahead({minLength:1,maxItem:10,order:"asc",offset:!0,dynamic:!0,source:{area:{ajax:function(a){return{type:"GET",url:"json-locations.php",data:{q:a}}}}},callback:{onHideLayout:function(a,b){j(!0)},onCancel:function(a,b){j(!0)}}}),d.keypress(function(a){13==a.which&&j(!0)}),$(".property-search-extra").click(function(a){a.stopPropagation()}),$(window).click(function(a){$(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast")}),$(".field-property-type, .field-filters").click(function(a){a.stopPropagation();var b=$(this);b.hasClass("active")?m():$(".property-search-bar .field.active").length?($(".property-search-bar .field.active").removeClass("active"),$(".property-search-extra").slideUp("fast",function(){l(b)})):l(b)}),$("#radius").change(function(){j(!0)}),$("#field-dropdown-price-min").change(function(){$("#filter-dropdown-price-min").val($(this).val()).material_select(),j(!0)}),$("#field-dropdown-price-max").change(function(){$("#filter-dropdown-price-max").val($(this).val()).material_select(),j(!0)}),$("#filter-dropdown-price-min").change(function(){$("#field-dropdown-price-min").val($(this).val()).material_select(),j(!0)}),$("#filter-dropdown-price-max").change(function(){$("#field-dropdown-price-max").val($(this).val()).material_select(),j(!0)}),$("#field-dropdown-bed-min").change(function(){$("#filter-dropdown-bed-min").val($(this).val()).material_select(),j(!0)}),$("#field-dropdown-bed-max").change(function(){$("#filter-dropdown-bed-max").val($(this).val()).material_select(),j(!0)}),$("#filter-dropdown-bed-min").change(function(){$("#field-dropdown-bed-min").val($(this).val()).material_select(),j(!0)}),$("#filter-dropdown-bed-max").change(function(){$("#field-dropdown-bed-max").val($(this).val()).material_select(),j(!0)}),$(".filter-property-type input").click(function(){var a=$(".filter-property-type input:checked").length;$(".property-type-count").empty(),a&&$(".property-type-count").append("("+a+")"),j(!0)}),$("#added-to-site").change(function(){j(!0)}),$("#property-stc").click(function(){j(!0)}),$(".filter-action-done").click(function(){m()}),$("#page").change(function(){var a=$("#page").val();$("#current-page").val(a),$(".pagination-holder .prev").toggleClass("disabled",1==a),$(".pagination-holder .next").toggleClass("disabled",a==+$(".total-page-count").text()),j(!1)}),$(".pagination-holder .prev").click(function(){$(this).hasClass("disabled")||h(-1)}),$(".pagination-holder .next").click(function(){$(this).hasClass("disabled")||h(1)}),History.Adapter.bind(window,"statechange",function(){n(History.getState().cleanUrl),k()}),n(document.location.search),k(!0))}),$(function(){function b(){var b=2/3,c=a.width();a.height(c*b),a.find("li").height(c*b),$(".unslider-nav li").height($(".unslider-nav li:first").width()*b)}var a=$("#property-carousel");if(a.length){b(),$(window).on("resize",function(){b()});var c=new Image;c.onload=function(){$("img[xsrc]").each(function(){$(this).attr("src",$(this).attr("xsrc")),$(this).removeAttr("xsrc")}),setTimeout(function(){b()},100)},c.src=a.find("img:first").attr("src");var d=a.unslider({arrows:{prev:'<a class="unslider-arrow prev"><i class="sprite sprite-arrow-left-rounded"></i></a>',next:'<a class="unslider-arrow next"><i class="sprite sprite-arrow-right-rounded"></i></a>'},nav:function(a,b){return $(this).find("img").get(0).outerHTML},autoplay:!0,infinite:!0});setTimeout(function(){d.unslider("stop"),$(".unslider-arrow").css("bottom",$(".unslider-nav").height()-20+"px")},1e3),d.on("unslider.change",function(){e||d.unslider("stop")});var e=!1;$(".slideshow-control").click(function(){e?(d.unslider("stop"),$(this).text("Start Slideshow")):(d.unslider("start"),$(this).text("Stop Slideshow")),e=!e}),$("#mapid").click(function(){$("ul.tabs").tabs("select_tab","property-tab-map")})}}),$(function(){function b(b){return a*b/100}if($("#home-recent-sale").length){var a=$(window).height(),c=[{selector:".home-fast .card-panel",offset:b(10),callback:function(a){$(a).addClass("z-depth-2").removeClass("z-depth-0")}},{selector:".home-why",offset:b(50),callback:function(a){Materialize.fadeInImage($(a).find(".point"))}},{selector:".home-estimator",offset:b(80),callback:function(a){Materialize.fadeInImage($(a).find(".sprite-9000"))}}];Materialize.scrollFire(c)}})}();